{% extends 'veterinary_inventory/base.html' %}
{% block content %}
<h2>{% if product %}Editar{% else %}Agregar{% endif %} Producto</h2>
<form method="post">
    {% csrf_token %}
    <label>Nombre:</label>
    <input type="text" name="name" value="{{ product.name|default:'' }}" required><br>
    <label>Categoría:</label>
    <select name="category" required>
        {% for cat in categories %}
        <option value="{{ cat.pk }}" {% if product.category.pk == cat.pk %}selected{% endif %}>{{ cat.name }}</option>
        {% endfor %}
    </select><br>
    <label>Proveedor:</label>
    <select name="supplier">
        <option value="">Sin proveedor</option>
        {% for sup in suppliers %}
        <option value="{{ sup.pk }}" {% if product.supplier and product.supplier.pk == sup.pk %}selected{% endif %}>{{ sup.name }}</option>
        {% endfor %}
    </select><br>
    <label>Descripción:</label>
    <textarea name="description">{{ product.description|default:'' }}</textarea><br>
    <label>Precio:</label>
    <input type="number" step="0.01" name="price" value="{{ product.price|default:'' }}" required><br>
    <button type="submit" class="btn">Guardar</button>
    <a href="{% url 'product_list' %}" class="btn">Cancelar</a>
</form>
{% endblock %}
